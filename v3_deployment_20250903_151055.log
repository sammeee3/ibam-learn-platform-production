=== V3 DEPLOYMENT LOG - Wed Sep  3 15:10:55 PDT 2025 ===
[0;32müöÄ PRODUCTION V3 DEPLOYMENT SCRIPT STARTED[0m
=============================================
Timestamp: Wed Sep  3 15:10:55 PDT 2025
User: jeffreysamuelson
Directory: /Users/jeffreysamuelson/Desktop/ibam-learn-platform-staging
Git commit: b9c3f6485d385c8d80be5352d25a5afd45c7db8d
=============================================
[1;33m‚ö†Ô∏è  You are about to deploy to PRODUCTION V3[0m
[1;33mThis will affect live users and real data.[0m

[0;34müöÄ STARTING V3 DEPLOYMENT PREFLIGHT CHECKS[0m
==================================================
[0;34m‚ÑπÔ∏è  Checking required tools...[0m
[0;32m‚úÖ All required tools available[0m
[0;34m‚ÑπÔ∏è  Verifying Vercel authentication...[0m
[0;32m‚úÖ Vercel authentication confirmed[0m
[0;32m‚úÖ Running from correct directory[0m
[0;34m‚ÑπÔ∏è  Checking git status...[0m
[1;33m‚ö†Ô∏è  Uncommitted changes detected - continuing with deployment[0m
‚úÖ Preflight checks completed successfully

[0;34müîç VERIFYING STAGING READINESS[0m
==================================
[0;34m‚ÑπÔ∏è  Testing staging build...[0m
[1;33m‚ö†Ô∏è  Local build failed (likely missing env vars) - Vercel deployment will use proper environment[0m
[0;34m‚ÑπÔ∏è  Skipping local build check - deployment will verify build on Vercel[0m
[0;34m‚ÑπÔ∏è  Verifying staging accessibility...[0m
[0;32m‚úÖ Staging environment accessible[0m
[0;34m‚ÑπÔ∏è  Checking deployment files...[0m
[0;32m‚úÖ All deployment files present[0m
‚úÖ Staging readiness verified

[0;34müè• PRODUCTION V3 HEALTH CHECK[0m
===============================
[0;34m‚ÑπÔ∏è  Testing production V3 accessibility...[0m
[0;32m‚úÖ Production V3 accessible[0m
[0;34m‚ÑπÔ∏è  Testing production admin API...[0m
[0;32m‚úÖ Production admin API responding[0m
[0;34m‚ÑπÔ∏è  Checking current production user data...[0m
[0;34m‚ÑπÔ∏è  Current production users: unknown[0m
‚úÖ Production V3 health check completed

[0;34müíæ DATABASE BACKUP AND MIGRATION[0m
===================================
[0;34m‚ÑπÔ∏è  Creating database backup...[0m
[0;32m‚úÖ Database backup script ready[0m
[0;34m‚ÑπÔ∏è  ‚ö†Ô∏è  MANUAL ACTION REQUIRED: Execute PRODUCTION_V3_BACKUP.sql on production database[0m
[0;32m‚úÖ Schema migration script ready[0m
[0;34m‚ÑπÔ∏è  ‚ö†Ô∏è  MANUAL ACTION REQUIRED: Execute PRODUCTION_V3_SCHEMA_MIGRATION.sql on production database[0m
[0;32m‚úÖ Data reconciliation script ready[0m
[0;34m‚ÑπÔ∏è  ‚ö†Ô∏è  MANUAL ACTION REQUIRED: Execute PRODUCTION_V3_DATA_RECONCILIATION.sql on production database[0m
‚úÖ Database backup and migration completed

[0;34müß™ API ENDPOINT VERIFICATION[0m
=============================
[0;34m‚ÑπÔ∏è  Running comprehensive API tests...[0m

üîß MANUAL EXECUTION INSTRUCTIONS:
1. Save this file as 'api_verification.js'
2. Run with: node api_verification.js
3. Or copy/paste into browser console at https://ibam-learn-platform-v3.vercel.app
4. Review results before proceeding with deployment

‚ö†Ô∏è  IMPORTANT: This script tests public endpoints only
   Admin-protected endpoints will return 401/403 (expected)
   Focus on 500-level errors (server failures)

[0;32m‚úÖ API verification completed successfully[0m
‚úÖ API verification completed

[0;34müöÄ DEPLOYING TO PRODUCTION V3[0m
==============================
[0;34m‚ÑπÔ∏è  Switching to production V3 project...[0m
[0;31m‚ùå ERROR: Failed to switch to production project[0m
[0;31müö® DEPLOYMENT ABORTED[0m
